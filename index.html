<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï Mana≈æersk√© √∫ƒçetnictv√≠ - Quiz üíï</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #fff0f5 50%, #ffe4ec 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
        }

        h1 {
            color: #d63384;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(214, 51, 132, 0.2);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #e785a8;
            font-size: 1.1rem;
            font-weight: 300;
        }

        .hearts {
            font-size: 1.5rem;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Mode Selection */
        .mode-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .mode-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.3);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #ff6b9d 0%, #d63384 100%);
            color: white;
            transform: scale(1.05);
        }

        .mode-btn:not(.active) {
            background: white;
            color: #d63384;
            border: 2px solid #ffb6c1;
        }

        .mode-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(214, 51, 132, 0.4);
        }

        /* Flashcard Styles */
        .flashcard-container {
            perspective: 1000px;
            margin-bottom: 30px;
        }

        .flashcard {
            width: 100%;
            min-height: 250px;
            position: relative;
            cursor: pointer;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            min-height: 250px;
            backface-visibility: hidden;
            border-radius: 25px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(214, 51, 132, 0.2);
        }

        .flashcard-front {
            background: linear-gradient(135deg, #fff 0%, #fff5f8 100%);
            border: 3px solid #ffb6c1;
        }

        .flashcard-back {
            background: linear-gradient(135deg, #ff6b9d 0%, #d63384 100%);
            color: white;
            transform: rotateY(180deg);
        }

        .flashcard-front h3 {
            color: #d63384;
            font-size: 1.4rem;
            line-height: 1.6;
        }

        .flashcard-back p {
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .flip-hint {
            position: absolute;
            bottom: 15px;
            color: #e785a8;
            font-size: 0.9rem;
        }

        .flashcard-back .flip-hint {
            color: rgba(255,255,255,0.7);
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 20px;
            background: linear-gradient(135deg, #ff6b9d 0%, #d63384 100%);
            color: white;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(214, 51, 132, 0.4);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .progress {
            text-align: center;
            color: #d63384;
            font-weight: 500;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #ffe4ec;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #ff6b9d 0%, #d63384 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* Quiz Mode */
        .quiz-container {
            background: white;
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(214, 51, 132, 0.2);
            border: 3px solid #ffb6c1;
        }

        .quiz-question {
            color: #d63384;
            font-size: 1.3rem;
            margin-bottom: 25px;
            text-align: center;
            line-height: 1.6;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            padding: 15px 20px;
            border: 2px solid #ffb6c1;
            border-radius: 15px;
            background: #fff5f8;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            text-align: left;
        }

        .quiz-option:hover {
            background: #ffe4ec;
            border-color: #d63384;
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .quiz-option.disabled {
            pointer-events: none;
        }

        /* Score */
        .score-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #fff 0%, #fff5f8 100%);
            border-radius: 25px;
            border: 3px solid #ffb6c1;
            margin-top: 20px;
        }

        .score-display h2 {
            color: #d63384;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .score-display p {
            color: #e785a8;
            font-size: 1.2rem;
        }

        /* Category tabs */
        .category-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 25px;
        }

        .category-tab {
            padding: 10px 20px;
            border: 2px solid #ffb6c1;
            border-radius: 20px;
            background: white;
            color: #d63384;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-tab.active {
            background: linear-gradient(135deg, #ff6b9d 0%, #d63384 100%);
            color: white;
            border-color: transparent;
        }

        .category-tab:hover {
            transform: translateY(-2px);
        }

        .hidden {
            display: none !important;
        }

        /* Decorations */
        .decoration {
            position: fixed;
            opacity: 0.1;
            font-size: 3rem;
            pointer-events: none;
            z-index: -1;
        }

        .deco-1 { top: 10%; left: 5%; }
        .deco-2 { top: 30%; right: 5%; }
        .deco-3 { bottom: 20%; left: 8%; }
        .deco-4 { bottom: 10%; right: 10%; }

        /* Responsive */
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .flashcard-front h3, .flashcard-back p { font-size: 1.1rem; }
            .mode-btn { padding: 12px 20px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="decoration deco-1">üíï</div>
    <div class="decoration deco-2">‚ú®</div>
    <div class="decoration deco-3">üå∏</div>
    <div class="decoration deco-4">üíñ</div>

    <div class="container">
        <header>
            <div class="hearts">üíï ‚ú® üíï</div>
            <h1>Mana≈æersk√© √∫ƒçetnictv√≠</h1>
            <p class="subtitle">Tv≈Øj osobn√≠ pr≈Øvodce studiem üå∏</p>
        </header>

        <div class="mode-selection">
            <button class="mode-btn active" onclick="setMode('flashcards')">üìö Kartiƒçky</button>
            <button class="mode-btn" onclick="setMode('quiz')">üíØ Quiz</button>
        </div>

        <div class="category-tabs">
            <button class="category-tab active" onclick="setCategory('all')">V≈°e</button>
            <button class="category-tab" onclick="setCategory('klasifikace')">Klasifikace</button>
            <button class="category-tab" onclick="setCategory('rozdily')">F√ö vs M√ö</button>
            <button class="category-tab" onclick="setCategory('etapy')">V√Ωvojov√© etapy</button>
            <button class="category-tab" onclick="setCategory('trendy')">Trendy</button>
            <button class="category-tab" onclick="setCategory('naklady')">üí∞ N√°klady</button>
        </div>

        <!-- Flashcard Mode -->
        <div id="flashcard-mode">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p class="progress" id="progress-text">Kartiƒçka 1 z 20</p>

            <div class="flashcard-container">
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="flashcard-front">
                        <h3 id="card-question">Ot√°zka</h3>
                        <span class="flip-hint">üëÜ Klikni pro odpovƒõƒè</span>
                    </div>
                    <div class="flashcard-back">
                        <p id="card-answer">Odpovƒõƒè</p>
                        <span class="flip-hint">üëÜ Klikni pro ot√°zku</span>
                    </div>
                </div>
            </div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevCard()">‚¨ÖÔ∏è P≈ôedchoz√≠</button>
                <button class="nav-btn" onclick="shuffleCards()">üîÄ Zam√≠chat</button>
                <button class="nav-btn" onclick="nextCard()">Dal≈°√≠ ‚û°Ô∏è</button>
            </div>
        </div>

        <!-- Quiz Mode -->
        <div id="quiz-mode" class="hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="quiz-progress-fill"></div>
            </div>
            <p class="progress" id="quiz-progress-text">Ot√°zka 1 z 10</p>

            <div class="quiz-container">
                <h3 class="quiz-question" id="quiz-question">Ot√°zka</h3>
                <div class="quiz-options" id="quiz-options"></div>
            </div>

            <div class="navigation" style="margin-top: 20px;">
                <button class="nav-btn" onclick="nextQuizQuestion()" id="next-quiz-btn" style="display: none;">Dal≈°√≠ ot√°zka ‚û°Ô∏è</button>
            </div>

            <div class="score-display hidden" id="score-display">
                <h2>üéâ Hotovo! üéâ</h2>
                <p id="final-score">Tvoje sk√≥re: 0/10</p>
                <button class="nav-btn" onclick="restartQuiz()" style="margin-top: 20px;">üîÑ Zkusit znovu</button>
            </div>
        </div>
    </div>

    <script>
        // Data - kartiƒçky s ot√°zkami a odpovƒõƒèmi
        const allCards = [
            // Klasifikace √∫ƒçetn√≠ch syst√©m≈Ø
            { category: 'klasifikace', q: 'Jak√© jsou hlavn√≠ typy √∫ƒçetn√≠ch syst√©m≈Ø?', a: 'Finanƒçn√≠ √∫ƒçetnictv√≠ (MD, D), Da≈àov√© √∫ƒçetnictv√≠, N√°kladov√© √∫ƒçetnictv√≠, Mana≈æersk√© √∫ƒçetnictv√≠ (odhady, predikce), Odpovƒõdnostn√≠ √∫ƒçetnictv√≠' },
            { category: 'klasifikace', q: 'Jak√Ω je c√≠l v≈°ech √∫ƒçetn√≠ch syst√©m≈Ø?', a: 'Poskytovat informace u≈æivatel≈Øm' },
            { category: 'klasifikace', q: 'Co je typick√© pro Anglosask√Ω syst√©m √∫ƒçetnictv√≠?', a: 'US GAAP, IFRS | U≈æivatel√©: investo≈ôi, akcion√°≈ôi, dr≈æitel√© dluhopis≈Ø | Zemƒõ: USA, UK' },
            { category: 'klasifikace', q: 'Co je typick√© pro Kontinent√°ln√≠ syst√©m √∫ƒçetnictv√≠?', a: 'U≈æivatel√©: st√°t, banky, veden√≠ | Zemƒõ: Francie, Nƒõmecko, ƒåR' },
            { category: 'klasifikace', q: 'Proƒç nejsou √∫ƒçetn√≠ syst√©my snadno sluƒçiteln√©?', a: 'Kv≈Øli rozd√≠l≈Øm v oce≈àov√°n√≠ majetku mezi syst√©my' },
            { category: 'klasifikace', q: 'Jak√© jsou dva hlavn√≠ mezin√°rodn√≠ √∫ƒçetn√≠ standardy?', a: 'US GAAP (USA) a IAS/IFRS (Evropa) - oba zalo≈æeny na podobn√Ωch principech' },

            // Rozd√≠ly F√ö vs M√ö
            { category: 'rozdily', q: 'Kdo jsou u≈æivatel√© Finanƒçn√≠ho √∫ƒçetnictv√≠ vs Mana≈æersk√©ho √∫ƒçetnictv√≠?', a: 'F√ö = extern√≠ (investo≈ôi, banky) | M√ö = veden√≠, mana≈æe≈ôi' },
            { category: 'rozdily', q: 'Jak√Ω je obsah F√ö vs M√ö?', a: 'F√ö = aktiva, pasiva, HV | M√ö = kalkulace, rozpoƒçty' },
            { category: 'rozdily', q: 'Na co se zamƒõ≈ôuje F√ö vs M√ö?', a: 'F√ö = podnik jako celek | M√ö = i vnitropodnikov√© jednotky' },
            { category: 'rozdily', q: 'Jak je regulov√°no F√ö vs M√ö?', a: 'F√ö = z√°konem regulov√°no | M√ö = neregulov√°no' },
            { category: 'rozdily', q: 'Jak√© jednotky pou≈æ√≠v√° F√ö vs M√ö?', a: 'F√ö = pouze penƒõ≈æn√≠ | M√ö = penƒõ≈æn√≠ + natur√°ln√≠' },
            { category: 'rozdily', q: 'Jak√° je periodicita F√ö vs M√ö?', a: 'F√ö = roƒçnƒõ | M√ö = dle pot≈ôeby' },
            { category: 'rozdily', q: 'Na jak√Ω ƒças se zamƒõ≈ôuje F√ö vs M√ö?', a: 'F√ö = MINULOST | M√ö = BUDOUCNOST' },
            { category: 'rozdily', q: 'Jak√° je spolehlivost F√ö vs M√ö?', a: 'F√ö = spolehliv√©, ve≈ôejn√© | M√ö = odhady, d≈Øvƒõrn√©' },

            // V√Ωvojov√© etapy
            { category: 'etapy', q: 'Jak√° je I. v√Ωvojov√° etapa √∫ƒçetnictv√≠?', a: 'N√°kladov√© √∫ƒçetnictv√≠ - zamƒõ≈ôen√≠ na minulost, evidence n√°klad≈Ø' },
            { category: 'etapy', q: 'Jak√° je II. v√Ωvojov√° etapa √∫ƒçetnictv√≠?', a: 'Mana≈æersk√© √∫ƒçetnictv√≠ - budoucnost, podpora rozhodnut√≠, modelov√°n√≠' },
            { category: 'etapy', q: 'Jak√° je III. v√Ωvojov√° etapa √∫ƒçetnictv√≠?', a: 'Management n√°klad≈Ø - budoucnost, aktivn√≠ ovliv≈àov√°n√≠, strategie' },

            // V√Ωvojov√© trendy
            { category: 'trendy', q: 'Jak√© jsou hlavn√≠ v√Ωvojov√© trendy v mana≈æersk√©m √∫ƒçetnictv√≠?', a: 'Anal√Ωza cel√©ho hodnotov√©ho ≈ôetƒõzce, n√°klady od n√°padu a≈æ po zru≈°en√≠ produktu, aktivn√≠ ovliv≈àov√°n√≠ n√°klad≈Ø, procesn√≠ p≈ô√≠stup, budouc√≠ v√Ωvoj' },
            { category: 'trendy', q: 'Jak√© zmƒõny ovliv≈àuj√≠ ekonomick√© prost≈ôed√≠ od 80. let?', a: 'Glob√°ln√≠ konkurence, r≈Øst slu≈æeb (UK 75% HDP), zkracov√°n√≠ ≈æivotn√≠ho cyklu v√Ωrobk≈Ø, rozvoj technologi√≠ (lean syst√©my), IT (e-business, ERP)' },
            { category: 'trendy', q: 'Co znamen√° z√°kaznick√° orientace v mana≈æersk√©m √∫ƒçetnictv√≠?', a: 'Spokojenost z√°kazn√≠k≈Ø jako priorita' },
            { category: 'trendy', q: 'Co je n√°kladov√° efektivnost?', a: 'N√≠zk√© n√°klady = konkurenƒçn√≠ v√Ωhoda' },
            { category: 'trendy', q: 'Co znamen√° TQM v kontextu kvality?', a: 'Total Quality Management - syst√©my zaji≈°≈•uj√≠c√≠ 100% kvalitu' },
            { category: 'trendy', q: 'Proƒç je d≈Øle≈æit√Ω ƒças v mana≈æersk√©m √∫ƒçetnictv√≠?', a: 'Zkracov√°n√≠ dodac√≠ch ƒças≈Ø, eliminace aktivit nep≈ôid√°vaj√≠c√≠ch hodnotu' },
            { category: 'trendy', q: 'Co zahrnuje etick√© chov√°n√≠ v √∫ƒçetnictv√≠?', a: 'Bez√∫honnost (nulov√° tolerance k falzifikac√≠m), objektivita (nezaujatost), d≈Øvƒõrnost, kompetentnost, dodr≈æov√°n√≠ z√°kon≈Ø' },

            // MAUC 2 - V√Ωznam n√°klad≈Ø v podnikov√©m ≈ô√≠zen√≠
            { category: 'naklady', q: 'K ƒçemu se vyu≈æ√≠vaj√≠ informace o n√°kladech?', a: 'Cenov√° rozhodov√°n√≠, pl√°nov√°n√≠ v√Ωroby (Target Costing), rozpoƒçetnictv√≠, mƒõ≈ôen√≠ v√Ωkonnosti, vykazov√°n√≠ extern√≠m subjekt≈Øm' },
            { category: 'naklady', q: '‚ö†Ô∏è TEST: Jak se zmƒõnila struktura n√°klad≈Ø od 1. pol. 20. stol.?', a: 'D≈ô√≠ve re≈æijn√≠ N cca 10%, dnes cca 50% (slu≈æby a≈æ 80%) - dramatick√Ω n√°r≈Øst re≈æie na √∫kor p≈ô√≠m√Ωch N' },
            { category: 'naklady', q: 'Jak√© jsou p≈ô√≠ƒçiny zmƒõn struktury n√°klad≈Ø (1950-2015)?', a: 'Levnƒõj≈°√≠ materi√°ly, r≈Øst automatizace, customizace, n√°r≈Øst re≈æijn√≠ch ƒçinnost√≠, komplexn√≠ produkty, zkracov√°n√≠ ≈æivotn√≠ho cyklu' },
            { category: 'naklady', q: 'Jak√© je finanƒçn√≠ pojet√≠ n√°klad≈Ø?', a: '√öbytek ekonomick√©ho prospƒõchu = √∫bytek aktiv nebo p≈ô√≠r≈Østek dluh≈Ø' },
            { category: 'naklady', q: 'Jak√© je hodnotov√© (mana≈æersk√©) pojet√≠ n√°klad≈Ø?', a: '√öƒçeln√© vynalo≈æen√≠ ekonomick√Ωch zdroj≈Ø' },
            { category: 'naklady', q: 'Co je druhov√© ƒçlenƒõn√≠ n√°klad≈Ø?', a: 'Dle spot≈ôebovan√©ho extern√≠ho vstupu: materi√°l, osobn√≠ N, odpisy, extern√≠ slu≈æby, finanƒçn√≠ N' },
            { category: 'naklady', q: 'Co jsou technologick√© n√°klady?', a: 'N√°klady vyvolan√© technologi√≠ v√Ωroby' },
            { category: 'naklady', q: 'Co jsou jednicov√© n√°klady?', a: 'N√°klady p≈ô√≠mo p≈ôi≈ôaditeln√© jednotce v√Ωkonu' },
            { category: 'naklady', q: 'Co jsou re≈æijn√≠ n√°klady?', a: 'N√°klady na technologick√Ω proces jako celek + obsluha a ≈ô√≠zen√≠' },
            { category: 'naklady', q: 'Co jsou p≈ô√≠m√© vs nep≈ô√≠m√© n√°klady?', a: 'P≈ô√≠m√©: p≈ô√≠mo souvis√≠ s konkr√©tn√≠m v√Ωkonem | Nep≈ô√≠m√©: nev√°≈æou se k jednomu druhu v√Ωkonu' },
            { category: 'naklady', q: 'Co jsou variabiln√≠ n√°klady?', a: 'N√°klady, kter√© se mƒõn√≠ s objemem v√Ωroby' },
            { category: 'naklady', q: 'Co jsou fixn√≠ n√°klady?', a: 'N√°klady nemƒõnn√© v urƒçit√©m rozpƒõt√≠ = kapacitn√≠ n√°klady' },
            { category: 'naklady', q: 'Co jsou sm√≠≈°en√© (semivariabiln√≠) n√°klady?', a: 'Obsahuj√≠ fixn√≠ + variabiln√≠ slo≈æku (nap≈ô. energie)' },
            { category: 'naklady', q: '‚ö†Ô∏è TEST: Co jsou Sticky costs (strnul√© n√°klady)?', a: 'N√°klady reaguj√≠ asymetricky: p≈ôi r≈Østu aktivity rostou v√≠ce, p≈ôi poklesu neklesaj√≠ proporcion√°lnƒõ (pomal√° mana≈æersk√° reakce)' },
            { category: 'naklady', q: '‚ö†Ô∏è TEST: Co je variabilizace n√°klad≈Ø?', a: 'Snaha zv√Ω≈°it pod√≠l variabiln√≠ch N na √∫kor fixn√≠ch - agenturn√≠ pracovn√≠ci, outsourcing, servisn√≠ smlouvy' },
            { category: 'naklady', q: 'Co je mar≈æe (kryc√≠ p≈ô√≠spƒõvek)?', a: 'Cena ‚àí variabiln√≠ n√°klady = p≈ô√≠spƒõvek na √∫hradu fixn√≠ch N a tvorbu zisku' },
            { category: 'naklady', q: 'Co je anal√Ωza bodu zvratu?', a: 'Zji≈°≈•uje, od kdy je podnik ziskov√Ω (kdy tr≈æby pokryj√≠ v≈°echny n√°klady)' },
            { category: 'naklady', q: 'Co je provozn√≠ p√°ka?', a: 'N√≠zk√° p√°ka = v√≠ce variabiln√≠ch N, men≈°√≠ riziko | Vysok√° p√°ka = v√≠ce fixn√≠ch N, vƒõt≈°√≠ riziko i potenci√°l zisku' },
            { category: 'naklady', q: 'Co jsou utopen√© n√°klady (sunk costs)?', a: 'Vynalo≈æeny v minulosti, nelze je zmƒõnit - pro rozhodov√°n√≠ je vylouƒçit!' },
            { category: 'naklady', q: 'Co jsou oportunitn√≠ n√°klady?', a: 'N√°klady obƒõtovan√© p≈ô√≠le≈æitosti = u≈°l√Ω zisk z nep≈ôijat√© alternativy' },
            { category: 'naklady', q: '‚ö†Ô∏è TEST: Jak√© jsou kalkulaƒçn√≠ druhy n√°klad≈Ø (5)?', a: '1. Kalkulaƒçn√≠ odpisy, 2. Kalkulaƒçn√≠ √∫roky, 3. Kalkulaƒçn√≠ rizikov√© p≈ôir√°≈æky, 4. Kalkulaƒçn√≠ podnikatelsk√° mzda, 5. Kalkulaƒçn√≠ n√°jemn√©' },
            { category: 'naklady', q: 'Co jsou kalkulaƒçn√≠ odpisy?', a: 'Skuteƒçn√© opot≈ôeben√≠, reprodukƒçn√≠ cena, i po odeps√°n√≠ ve F√ö' },
            { category: 'naklady', q: 'Co jsou kalkulaƒçn√≠ √∫roky?', a: 'U≈°l√Ω v√Ωnos z v√°zan√©ho kapit√°lu (oportunitn√≠ n√°klad)' },
            { category: 'naklady', q: 'Co jsou kalkulaƒçn√≠ rizikov√© p≈ôir√°≈æky?', a: 'Vnit≈ôn√≠ ocenƒõn√≠ rizika spojen√© s aktivitou' },
            { category: 'naklady', q: 'Co je kalkulaƒçn√≠ podnikatelsk√° mzda?', a: 'Pro ≈æivnostn√≠ky, kte≈ô√≠ nemaj√≠ standardn√≠ mzdu' },
            { category: 'naklady', q: 'Co je kalkulaƒçn√≠ n√°jemn√©?', a: 'U≈°l√Ω v√Ωnos z vlastn√≠ch prostor (kdyby byly pronajaty)' },
        ];

        let cards = [...allCards];
        let currentCardIndex = 0;
        let currentMode = 'flashcards';
        let currentCategory = 'all';

        // Quiz variables
        let quizQuestions = [];
        let currentQuizIndex = 0;
        let score = 0;
        let answered = false;

        function filterCards() {
            if (currentCategory === 'all') {
                cards = [...allCards];
            } else {
                cards = allCards.filter(c => c.category === currentCategory);
            }
            currentCardIndex = 0;
            updateFlashcard();
        }

        function setCategory(cat) {
            currentCategory = cat;
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            filterCards();
            if (currentMode === 'quiz') {
                startQuiz();
            }
        }

        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');

            if (mode === 'flashcards') {
                document.getElementById('flashcard-mode').classList.remove('hidden');
                document.getElementById('quiz-mode').classList.add('hidden');
            } else {
                document.getElementById('flashcard-mode').classList.add('hidden');
                document.getElementById('quiz-mode').classList.remove('hidden');
                startQuiz();
            }
        }

        function flipCard() {
            document.getElementById('flashcard').classList.toggle('flipped');
        }

        function updateFlashcard() {
            const card = cards[currentCardIndex];
            document.getElementById('card-question').textContent = card.q;
            document.getElementById('card-answer').textContent = card.a;
            document.getElementById('flashcard').classList.remove('flipped');

            const progress = ((currentCardIndex + 1) / cards.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('progress-text').textContent = `Kartiƒçka ${currentCardIndex + 1} z ${cards.length}`;
        }

        function nextCard() {
            currentCardIndex = (currentCardIndex + 1) % cards.length;
            updateFlashcard();
        }

        function prevCard() {
            currentCardIndex = (currentCardIndex - 1 + cards.length) % cards.length;
            updateFlashcard();
        }

        function shuffleCards() {
            cards = cards.sort(() => Math.random() - 0.5);
            currentCardIndex = 0;
            updateFlashcard();
        }

        // Quiz functions
        function startQuiz() {
            quizQuestions = cards.sort(() => Math.random() - 0.5).slice(0, Math.min(10, cards.length));
            currentQuizIndex = 0;
            score = 0;
            answered = false;
            document.getElementById('score-display').classList.add('hidden');
            document.querySelector('.quiz-container').classList.remove('hidden');
            document.getElementById('next-quiz-btn').style.display = 'none';
            showQuizQuestion();
        }

        function showQuizQuestion() {
            if (currentQuizIndex >= quizQuestions.length) {
                showResults();
                return;
            }

            answered = false;
            const q = quizQuestions[currentQuizIndex];
            document.getElementById('quiz-question').textContent = q.q;

            // Generate options
            let options = [q.a];
            const otherAnswers = allCards.filter(c => c.a !== q.a).sort(() => Math.random() - 0.5);
            for (let i = 0; i < 3 && i < otherAnswers.length; i++) {
                options.push(otherAnswers[i].a);
            }
            options = options.sort(() => Math.random() - 0.5);

            const optionsHtml = options.map((opt, i) =>
                `<div class="quiz-option" onclick="selectAnswer(${i}, '${opt.replace(/'/g, "\\'")}', '${q.a.replace(/'/g, "\\'")}')">${opt}</div>`
            ).join('');

            document.getElementById('quiz-options').innerHTML = optionsHtml;

            const progress = ((currentQuizIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('quiz-progress-fill').style.width = progress + '%';
            document.getElementById('quiz-progress-text').textContent = `Ot√°zka ${currentQuizIndex + 1} z ${quizQuestions.length}`;
        }

        function selectAnswer(index, selected, correct) {
            if (answered) return;
            answered = true;

            const options = document.querySelectorAll('.quiz-option');
            options.forEach((opt, i) => {
                opt.classList.add('disabled');
                if (opt.textContent === correct) {
                    opt.classList.add('correct');
                } else if (i === index && selected !== correct) {
                    opt.classList.add('incorrect');
                }
            });

            if (selected === correct) {
                score++;
            }

            document.getElementById('next-quiz-btn').style.display = 'inline-block';
        }

        function nextQuizQuestion() {
            currentQuizIndex++;
            document.getElementById('next-quiz-btn').style.display = 'none';
            showQuizQuestion();
        }

        function showResults() {
            document.querySelector('.quiz-container').classList.add('hidden');
            document.getElementById('next-quiz-btn').style.display = 'none';
            document.getElementById('score-display').classList.remove('hidden');

            const percentage = Math.round((score / quizQuestions.length) * 100);
            let message = '';
            if (percentage >= 90) message = 'üåü √ö≈æasn√©! Jsi hvƒõzda! üåü';
            else if (percentage >= 70) message = 'üíï Skvƒõl√° pr√°ce! üíï';
            else if (percentage >= 50) message = '‚ú® Dobr√Ω z√°klad, pokraƒçuj! ‚ú®';
            else message = 'üå∏ Nevzd√°vej to, zkus to znovu! üå∏';

            document.getElementById('final-score').innerHTML = `Tvoje sk√≥re: ${score}/${quizQuestions.length} (${percentage}%)<br><br>${message}`;
        }

        function restartQuiz() {
            startQuiz();
        }

        // Initialize
        updateFlashcard();
    </script>
</body>
</html>
